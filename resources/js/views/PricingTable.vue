<template>
    <div class="pricing-table">
      <TariffCard
        v-for="plan in plans"
        :key="plan.id"
        :plan="plan"
        :is-current="plan.id === currentTariffId"
        @select="$emit('select', plan)"
        @pay="$emit('pay', plan)"
      />
    </div>
  </template>

  <script>
  import TariffCard from './TariffCard.vue';

  export default {
    name: 'PricingTable',
    components: { TariffCard },

    props: {
      /** id активного тарифа пользователя; если нет — передайте null */
      currentTariffId: { type: [Number, null], default: null },
    },

    data() {
      return {
        /* Жёстко-заданные тарифы; замените на API-запрос при необходимости */
        plans: [
          {
            id: 1, name: 'Клиент',  price: 0,       popular: false,
            services: [
              'Оборот безлимитный', 'ИИ-голосовой набор', 'Подача заявки',
              'Подтверждение поступления товара', 'Оплату внести',
              'Отчёты (только по долгам)',
            ],
          },
          {
            id: 2, name: 'Посредник', price: 100000, popular: false,
            services: [
              'Оборот до 1 млрд', '1С интеграция', 'ИИ-голосовой набор',
              'Приход', 'Продажа', 'Склад – списание', 'Оплата', 'Расход',
              'Отчёты (по умолчанию)', 'До 5 пользователей',
            ],
          },
          {
            id: 3, name: 'Розница', price: 200000, popular: true,
            services: [
              'Оборот до 5 млрд', '1С интеграция', 'ИИ-голосовой набор',
              'ИИ-автоветчик', 'Чат с клиентами', 'Доп расходы',
              'Склад – перемещение', 'Коммерческое предложение', 'Заявка',
              'Фасовка', 'Курьер-экспедитор', 'До 10 пользователей',
            ],
          },
          {
            id: 4, name: 'Оптовик', price: 500000, popular: false,
            services: [
              'Оборот до 5 млрд', '1С интеграция', 'ИИ-голосовой набор',
              'ИИ-автоветчик', 'Чат с клиентами', 'Доп расходы',
              'Склад – перемещение', 'Заявка', 'Фасовка', 'Курьер-экспедитор',
              'Реклама свежий товар (по локации)', 'До 50 пользователей',
            ],
          },
          {
            id: 5, name: 'Гранды', price: 1000000, popular: false,
            services: [
              'Оборот безлимитный', 'Реклама (по РК)', 'Все новые фишки',
              'Безлимитные пользователи', 'Оборот до 5 млрд', '1С интеграция',
              'ИИ-голосовой набор', 'ИИ-автоветчик', 'Чат с клиентами',
              'Доп расходы', 'Склад – перемещение', 'Коммерческое предложение',
              'Заявка', 'Фасовка', 'Курьер-экспедитор',
            ],
          },
        ],
      };
    },
  };
  </script>

  <!-- not scoped, inherits global vars / wallpaper -->
  <style>
  .pricing-table{
    display:flex;
    flex-wrap:wrap;
    gap:24px;
    justify-content:center;
  }
  </style>
